"use strict";(self.webpackChunkrm_frontend=self.webpackChunkrm_frontend||[]).push([[44],{1362:function(t,e,r){var i,n,a,o,s,l,u=r(617);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function d(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==c(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!==c(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===c(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}e.Z=(d(l={},"template-constructor-block-twitter-type_tweet",(0,u.f)(i||(i=h(['\n\t<a href="https://twitter.com/share" class="twitter-share-button" data-url="<%-url%>" data-lang="en" data-size="<%=large_button ? \'large\' : \'medium\'%>" data-text="<%- typeof text !== \'undefined\' ? text : \'\'%>">Tweet</a>\n\t<div class="overlay"></div>\n'])))),d(l,"template-constructor-block-twitter-type_follow",(0,u.f)(n||(n=h(['\n\t<a href="https://twitter.com/<%-username ? username : \'Readymag\'%>" class="twitter-follow-button" data-show-count="false" data-show-screen-name="<%=show_name ? \'true\' : \'false\'%>" data-lang="en" data-size="<%=large_button ? \'large\' : \'medium\'%>">Follow @<%-username%></a>\n\t<div class="overlay"></div>\n'])))),d(l,"template-constructor-block-twitter-type_hashtag",(0,u.f)(a||(a=h(['\n\t<a href="https://twitter.com/intent/tweet?button_hashtag=<%-hash%>" class="twitter-hashtag-button" data-size="<%=large_button ? \'large\' : \'medium\'%>">Tweet #<%-hash%></a>\n\t<div class="overlay"></div>\n'])))),d(l,"template-constructor-block-twitter-type_timeline",(0,u.f)(o||(o=h(['\n\t<%=code%>\n\t<div class="overlay"></div>\n'])))),d(l,"template-constructor-block-twitter-type_embed",(0,u.f)(s||(s=h(['\n\t<%=code%>\n\t<div class="overlay"></div>\n'])))),l)},1360:function(t,e,r){r.r(e);var i=r(320),n=r(1303),a=r(1361),o=r(605),s=r(1362),l=n.Z.extend({CONTENT_WAIT_TICK:100,CONTENT_WAIT_MAX_TICKS:20,CONTENT_IMG_WAIT:1e3,DO_NOT_WAIT_FOR_PRELOAD:!0,render:function(){var t,e;return this.makeBox("widget-twitter"),this.rendered=!0,this.current_type?("mag"===(e=this[this.current_type]).use_own_url?e.url=this.page.mag.getUrl():"page"!==e.use_own_url&&e.url||(e.url=this.page.getUrl()),RM.screenshot||(e.text=a.getFinalShare(this.page,i.Z.extend(this.page.mag.model.toJSON(),{user:this.page.mag.user}),{forProject:"mag"===e.use_own_url,customDomain:RM.common.isDomainViewer}).tweet),t=s.Z["template-constructor-block-twitter-"+this.current_type],this.$el.html(t(e)),"type_timeline"===this.current_type&&this.$el.find("a").attr({width:this.w,height:this.h}),o.Z.initTwitterAPI(function(){this.destroyed||(window.twttr&&window.twttr.widgets&&i.Z.isFunction(window.twttr.widgets.load)&&window.twttr.widgets.load(),(0,i.Z)(["type_timeline","type_embed"]).contains(this.current_type)?this.waitForTwitterContent():this.widgetIsLoaded())}.bind(this)),this):(this.widgetIsLoaded(),this)},waitForTwitterContent:function(){var t,e,r,n=0,a=!1,o={type_timeline:".timeline-Widget",type_embed:"blockquote.tweet"};clearInterval(t),t=setInterval(i.Z.bind((function(){n++,this.destroyed?clearInterval(t):(1==(e=this.$el.find("iframe")).length&&(r=o[this.current_type],a=e.contents().find(r).length>0),(a||n>this.CONTENT_WAIT_MAX_TICKS)&&("type_embed"==this.current_type&&e.css({margin:0,"max-width":"100%"}),"type_timeline"==this.current_type&&e.css({width:"100%",height:"100%!important","max-width":"100%"}),clearInterval(t),setTimeout(i.Z.bind((function(){this.widgetIsLoaded()}),this),this.CONTENT_IMG_WAIT)))}),this),this.CONTENT_WAIT_TICK)}});e.default=l}}]);